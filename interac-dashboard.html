[file content begin]
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FashionFlow Pro - Seller & Admin Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            font-family: 'Poppins', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .seller-gradient {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
        }
        
        .admin-gradient {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
        }
        
        .card-hover {
            transition: all 0.3s ease;
        }
        
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .status-pending { 
            background: linear-gradient(45deg, #fbbf24, #f59e0b);
            color: white;
        }
        
        .status-confirmed { 
            background: linear-gradient(45deg, #60a5fa, #3b82f6);
            color: white;
        }
        
        .status-processing { 
            background: linear-gradient(45deg, #8b5cf6, #7c3aed);
            color: white;
        }
        
        .status-qc { 
            background: linear-gradient(45deg, #ec4899, #db2777);
            color: white;
        }
        
        .status-packed { 
            background: linear-gradient(45deg, #34d399, #10b981);
            color: white;
        }
        
        .status-shipped { 
            background: linear-gradient(45deg, #f97316, #ea580c);
            color: white;
        }
        
        .status-delivered { 
            background: linear-gradient(45deg, #10b981, #059669);
            color: white;
        }
        
        .status-rejected { 
            background: linear-gradient(45deg, #ef4444, #dc2626);
            color: white;
        }
        
        .sla-24 {
            background: linear-gradient(45deg, #fbbf24, #f59e0b);
            color: white;
        }
        
        .sla-48 {
            background: linear-gradient(45deg, #f97316, #ea580c);
            color: white;
        }
        
        .sla-72 {
            background: linear-gradient(45deg, #ef4444, #dc2626);
            color: white;
        }
        
        .risk-high { 
            background: linear-gradient(45deg, #fef2f2, #fee2e2);
            border-left: 4px solid #ef4444;
        }
        
        .risk-medium { 
            background: linear-gradient(45deg, #fffbeb, #fef3c7);
            border-left: 4px solid #f59e0b;
        }
        
        .risk-low { 
            background: linear-gradient(45deg, #ecfdf5, #d1fae5);
            border-left: 4px solid #10b981;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(59, 130, 246, 0); }
            100% { box-shadow: 0 0 0 0 rgba(59, 130, 246, 0); }
        }
        
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        .slide-up {
            animation: slideUp 0.5s ease-out;
        }
        
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .dashboard-card {
            background: linear-gradient(135deg, #ffffff, #f8fafc);
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
            overflow: hidden;
        }
        
        .stats-card {
            background: linear-gradient(135deg, #ffffff, #f8fafc);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .stats-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .stats-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #8b5cf6, #3b82f6, #10b981);
        }
        
        .tab-active {
            background: linear-gradient(45deg, #3b82f6, #6366f1);
            color: white;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #3b82f6, #6366f1);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
        }
        
        .btn-success {
            background: linear-gradient(45deg, #10b981, #34d399);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-success:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.3);
        }
        
        .btn-danger {
            background: linear-gradient(45deg, #ef4444, #dc2626);
            color: white;
            border: none;
            border-radius: 12px;
            padding: 12px 24px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .btn-danger:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(239, 68, 68, 0.3);
        }
        
        .badge {
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: 500;
            font-size: 12px;
        }
        
        .filter-btn {
            background: white;
            border: 1px solid #e2e8f0;
            border-radius: 12px;
            padding: 8px 16px;
            transition: all 0.2s ease;
        }
        
        .filter-btn:hover {
            border-color: #c7d2fe;
            background: #f8fafc;
        }
        
        .filter-btn.active {
            background: linear-gradient(45deg, #3b82f6, #6366f1);
            color: white;
            border-color: #3b82f6;
        }
        
        .notification-pulse {
            animation: notificationPulse 1s infinite;
        }
        
        @keyframes notificationPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        /* Grid view styles */
        .order-card {
            border: 1px solid #e5e7eb;
            border-radius: 16px;
            overflow: hidden;
            background: white;
            transition: all 0.3s ease;
        }
        
        .order-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.1);
            border-color: #c7d2fe;
        }
        
        .order-image {
            height: 200px;
            width: 100%;
            object-fit: cover;
        }
        
        .product-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            padding: 8px;
            background: #f9fafb;
            border-radius: 8px;
        }
        
        .product-image-small {
            width: 40px;
            height: 40px;
            object-fit: cover;
            border-radius: 6px;
            margin-right: 12px;
        }
        
        /* Notification dropdown styles */
        .notification-dropdown {
            position: absolute;
            top: 50px;
            right: 0;
            width: 400px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
            z-index: 100;
            overflow: hidden;
            display: none;
        }
        
        .notification-item {
            padding: 16px;
            border-bottom: 1px solid #f1f5f9;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .notification-item:hover {
            background: #f8fafc;
        }
        
        .notification-item.unread {
            background: #f0f9ff;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background: #ef4444;
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen">
    <div id="app">
        <!-- Header -->
        <header class="glass-effect sticky top-0 z-40 shadow-sm">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-4">
                    <div class="flex items-center space-x-3">
                        <div class="gradient-bg w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg">
                            <i class="fas fa-chart-line text-white text-2xl"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent">Dashboard Pro</h1>
                            <p class="text-xs text-gray-500">Seller & Admin Intelligence Dashboard</p>
                        </div>
                    </div>
                    
                    <div class="flex items-center space-x-6">
                        <!-- Role Selector -->
                        <div class="inline-flex rounded-xl bg-gray-100 p-1">
                            <button id="sellerViewBtn" class="px-6 py-2 rounded-lg tab-active transition flex items-center seller-gradient text-white">
                                <i class="fas fa-store mr-2"></i> Seller
                            </button>
                            <button id="adminViewBtn" class="px-6 py-2 rounded-lg transition flex items-center bg-white text-gray-700 hover:bg-gray-50">
                                <i class="fas fa-user-shield mr-2"></i> Admin
                            </button>
                        </div>
                        
                        <!-- User Info -->
                        <div class="flex items-center space-x-4">
                            <!-- Notification Bell with Dropdown -->
                            <div class="relative">
                                <i class="fas fa-bell text-gray-500 text-xl hover:text-blue-600 cursor-pointer transition" id="notificationBell"></i>
                                <span class="absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center notification-pulse" id="notificationCount">3</span>
                                
                                <!-- Notification Dropdown -->
                                <div class="notification-dropdown" id="notificationDropdown">
                                    <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                                        <h3 class="font-bold text-gray-800">Notifications</h3>
                                        <button id="markAllRead" class="text-sm text-blue-600 hover:text-blue-800">Mark all as read</button>
                                    </div>
                                    <div class="max-h-96 overflow-y-auto" id="notificationList">
                                        <!-- Notifications will be populated here -->
                                    </div>
                                    <div class="p-4 border-t border-gray-200 text-center">
                                        <a href="#" class="text-sm text-blue-600 hover:text-blue-800">View all notifications</a>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="flex items-center space-x-3 bg-white/80 backdrop-blur-sm rounded-xl px-4 py-2 shadow-sm border border-gray-200">
                                <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full flex items-center justify-center">
                                    <i class="fas fa-user text-white text-sm"></i>
                                </div>
                                <div class="text-right">
                                    <p class="text-sm font-medium text-gray-700">John Doe</p>
                                    <p class="text-xs text-gray-500" id="currentRoleDisplay">Seller</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <!-- Seller Dashboard (Visible by default) -->
            <div id="sellerDashboard" class="fade-in">
                <!-- Seller Header -->
                <div class="mb-10">
                    <div class="flex flex-col md:flex-row md:items-center justify-between mb-6">
                        <div>
                            <h2 class="text-3xl font-bold text-gray-800 mb-2">Seller Dashboard</h2>
                            <p class="text-gray-600">Manage incoming orders, confirm/reject with reasons, update status flow</p>
                        </div>
                        
                        <div class="mt-4 md:mt-0 flex items-center space-x-4">
                            <button id="generateDocuments" class="btn-primary px-6 py-2">
                                <i class="fas fa-file-pdf mr-2"></i> Generate Documents
                            </button>
                            <button id="mergeOrdersBtn" class="btn-success px-6 py-2">
                                <i class="fas fa-object-group mr-2"></i> Merge Orders
                            </button>
                            <button id="splitOrderBtn" class="btn-primary px-6 py-2">
                                <i class="fas fa-cut mr-2"></i> Split Order
                            </button>
                        </div>
                    </div>
                    
                    <!-- Seller Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
                        <div class="stats-card card-hover p-6 relative">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 mb-2">Total Orders</p>
                                    <p class="text-3xl font-bold text-gray-800" id="sellerTotalOrders">0</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs text-green-600 mr-2">
                                            <i class="fas fa-arrow-up mr-1"></i>12%
                                        </span>
                                        <span class="text-xs text-gray-500">from yesterday</span>
                                    </div>
                                </div>
                                <div class="relative">
                                    <div class="bg-gradient-to-br from-blue-100 to-blue-50 p-4 rounded-2xl">
                                        <i class="fas fa-shopping-cart text-blue-600 text-2xl"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stats-card card-hover p-6 relative">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 mb-2">Pending Action</p>
                                    <p class="text-3xl font-bold text-gray-800" id="sellerPendingOrders">0</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs text-yellow-600 mr-2">
                                            <i class="fas fa-exclamation-circle mr-1"></i>
                                            <span>Needs attention</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="relative">
                                    <div class="bg-gradient-to-br from-yellow-100 to-yellow-50 p-4 rounded-2xl">
                                        <i class="fas fa-clock text-yellow-600 text-2xl"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stats-card card-hover p-6 relative">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 mb-2">To Ship</p>
                                    <p class="text-3xl font-bold text-gray-800" id="sellerToShipOrders">0</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs text-green-600 mr-2">
                                            <i class="fas fa-check-circle mr-1"></i>
                                            <span>On track</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="relative">
                                    <div class="bg-gradient-to-br from-green-100 to-green-50 p-4 rounded-2xl">
                                        <i class="fas fa-truck text-green-600 text-2xl"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stats-card card-hover p-6 relative">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 mb-2">Delayed</p>
                                    <p class="text-3xl font-bold text-red-600" id="sellerDelayedOrders">0</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs text-red-600 mr-2">
                                            <i class="fas fa-arrow-up mr-1"></i>3%
                                        </span>
                                        <span class="text-xs text-gray-500">from last week</span>
                                    </div>
                                </div>
                                <div class="relative">
                                    <div class="bg-gradient-to-br from-red-100 to-red-50 p-4 rounded-2xl">
                                        <i class="fas fa-exclamation-triangle text-red-600 text-2xl"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Filters Section -->
                <div class="dashboard-card p-6 mb-8">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Filters</h3>
                    <div class="flex flex-wrap gap-4">
                        <div class="flex items-center space-x-2">
                            <label class="text-sm text-gray-600">Date:</label>
                            <input type="date" class="border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" id="sellerDateFilter">
                        </div>
                        <div class="flex items-center space-x-2">
                            <label class="text-sm text-gray-600">SKU:</label>
                            <select class="border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" id="skuFilter">
                                <option value="">All SKUs</option>
                                <option value="SKU001">SKU001</option>
                                <option value="SKU002">SKU002</option>
                                <option value="SKU003">SKU003</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <label class="text-sm text-gray-600">Size:</label>
                            <select class="border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" id="sizeFilter">
                                <option value="">All Sizes</option>
                                <option value="S">S</option>
                                <option value="M">M</option>
                                <option value="L">L</option>
                                <option value="XL">XL</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <label class="text-sm text-gray-600">Partner:</label>
                            <select class="border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" id="partnerFilter">
                                <option value="">All Partners</option>
                                <option value="Partner A">Partner A</option>
                                <option value="Partner B">Partner B</option>
                            </select>
                        </div>
                        <button id="showDelayedBtn" class="filter-btn active">
                            <i class="fas fa-clock mr-2"></i> Show Delayed
                        </button>
                        <button id="clearFiltersBtn" class="filter-btn">
                            <i class="fas fa-times mr-2"></i> Clear Filters
                        </button>
                    </div>
                </div>
                
                <!-- Orders Grid Section -->
                <div class="dashboard-card overflow-hidden mb-8">
                    <div class="px-6 py-5 border-b border-gray-200 flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-800">Incoming Orders</h3>
                        <div class="flex items-center space-x-4">
                            <div class="flex items-center space-x-2">
                                <span class="text-sm text-gray-600">View:</span>
                                <button id="gridViewBtn" class="px-3 py-1 bg-blue-600 text-white rounded-lg text-sm">
                                    <i class="fas fa-th-large mr-1"></i> Grid
                                </button>
                                <button id="listViewBtn" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50">
                                    <i class="fas fa-list mr-1"></i> List
                                </button>
                            </div>
                            <span class="badge bg-gradient-to-r from-blue-500 to-purple-500 text-white" id="ordersCount">0 orders</span>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- Grid View Container -->
                        <div id="ordersGridView" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Orders will be populated here as cards -->
                        </div>
                        
                        <!-- List View Container (Hidden by default) -->
                        <div id="ordersListView" class="hidden overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                                            <input type="checkbox" id="selectAllOrders">
                                        </th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">SKU Details</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Total</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="sellerOrdersBody" class="bg-white divide-y divide-gray-200">
                                    <!-- Orders will be populated here for list view -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Customer Notes Section -->
                <div class="dashboard-card p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4 flex items-center">
                        <i class="fas fa-sticky-note mr-2 text-blue-500"></i> Customer Notes
                    </h3>
                    <div class="space-y-4" id="customerNotesContainer">
                        <!-- Notes will be populated here -->
                    </div>
                </div>
            </div>
            
            <!-- Admin Dashboard (Hidden by default) -->
            <div id="adminDashboard" class="hidden">
                <!-- Admin Header -->
                <div class="mb-10">
                    <div class="mb-8">
                        <h2 class="text-3xl font-bold text-gray-800 mb-2">Admin Dashboard</h2>
                        <p class="text-gray-600">Full visibility of seller order flows, SLA tracking, and risk alerts</p>
                    </div>
                    
                    <!-- Admin Stats -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">
                        <div class="stats-card card-hover p-6 relative">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 mb-2">Total Orders</p>
                                    <p class="text-3xl font-bold text-gray-800" id="adminTotalOrders">0</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs text-green-600 mr-2">
                                            <i class="fas fa-arrow-up mr-1"></i>12%
                                        </span>
                                    </div>
                                </div>
                                <div class="relative">
                                    <div class="bg-gradient-to-br from-blue-100 to-blue-50 p-4 rounded-2xl">
                                        <i class="fas fa-shopping-bag text-blue-600 text-2xl"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stats-card card-hover p-6 relative">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 mb-2">SLA Breached</p>
                                    <p class="text-3xl font-bold text-red-600" id="adminSlaBreached">0</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs text-red-600 mr-2">
                                            <i class="fas fa-exclamation-circle mr-1"></i>
                                            <span>Critical</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="relative">
                                    <div class="bg-gradient-to-br from-red-100 to-red-50 p-4 rounded-2xl">
                                        <i class="fas fa-exclamation-triangle text-red-600 text-2xl"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stats-card card-hover p-6 relative">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 mb-2">High Risk</p>
                                    <p class="text-3xl font-bold text-yellow-600" id="adminHighRisk">0</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs text-yellow-600 mr-2">
                                            <i class="fas fa-shield-alt mr-1"></i>
                                            <span>Monitor</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="relative">
                                    <div class="bg-gradient-to-br from-yellow-100 to-yellow-50 p-4 rounded-2xl">
                                        <i class="fas fa-shield-alt text-yellow-600 text-2xl"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="stats-card card-hover p-6 relative">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm text-gray-500 mb-2">SLA Compliance</p>
                                    <p class="text-3xl font-bold text-green-600" id="adminSlaCompliance">0%</p>
                                    <div class="flex items-center mt-1">
                                        <span class="text-xs text-green-600 mr-2">
                                            <i class="fas fa-check-circle mr-1"></i>
                                            <span>On track</span>
                                        </span>
                                    </div>
                                </div>
                                <div class="relative">
                                    <div class="bg-gradient-to-br from-green-100 to-green-50 p-4 rounded-2xl">
                                        <i class="fas fa-chart-line text-green-600 text-2xl"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Alerts Section -->
                <div class="dashboard-card mb-8">
                    <div class="px-6 py-5 border-b border-gray-200 flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                            <i class="fas fa-exclamation-triangle mr-2 text-red-500"></i> Alerts
                        </h3>
                        <button id="runQcCheckBtn" class="btn-primary px-4 py-2 text-sm">
                            <i class="fas fa-check-double mr-2"></i> Run QC Check
                        </button>
                    </div>
                    <div class="p-6">
                        <div id="alertsContainer" class="space-y-4">
                            <!-- Alerts will be populated here -->
                        </div>
                    </div>
                </div>
                
                <!-- Admin Filters -->
                <div class="dashboard-card p-6 mb-8">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">Admin Filters</h3>
                    <div class="flex flex-wrap gap-4">
                        <div class="flex items-center space-x-2">
                            <label class="text-sm text-gray-600">Seller:</label>
                            <select class="border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" id="sellerFilter">
                                <option value="">All Sellers</option>
                                <option value="Seller A">Seller A</option>
                                <option value="Seller B">Seller B</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <label class="text-sm text-gray-600">Status:</label>
                            <select class="border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" id="statusFilter">
                                <option value="">All Statuses</option>
                                <option value="Accepted">Accepted</option>
                                <option value="Processing">Processing</option>
                                <option value="QC Done">QC Done</option>
                                <option value="Packed">Packed</option>
                                <option value="Shipped">Shipped</option>
                                <option value="Delivered">Delivered</option>
                            </select>
                        </div>
                        <div class="flex items-center space-x-2">
                            <label class="text-sm text-gray-600">SLA Flag:</label>
                            <select class="border border-gray-300 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500" id="slaFilter">
                                <option value="">All</option>
                                <option value="24">>24h Delayed</option>
                                <option value="48">>48h Delayed</option>
                                <option value="72">>72h Delayed</option>
                            </select>
                        </div>
                        <button id="overrideStatusBtn" class="filter-btn">
                            <i class="fas fa-edit mr-2"></i> Override Status
                        </button>
                    </div>
                </div>
                
                <!-- Admin Orders Table -->
                <div class="dashboard-card overflow-hidden mb-8">
                    <div class="px-6 py-5 border-b border-gray-200 flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-800">All Orders Overview</h3>
                        <span class="badge bg-gradient-to-r from-green-500 to-emerald-500 text-white" id="adminOrdersCount">0 orders</span>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Seller</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">SKU Details</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">SLA</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Risk</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="adminOrdersBody" class="bg-white divide-y divide-gray-200">
                                <!-- Orders will be populated here -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Insights Section -->
                <div class="dashboard-card p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-6 flex items-center">
                        <i class="fas fa-chart-bar mr-2 text-purple-500"></i> Insights
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="p-5 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl">
                            <h4 class="font-bold text-gray-800 mb-3">Order Volume by Category</h4>
                            <div id="categoryInsight" class="space-y-2">
                                <!-- Category data -->
                            </div>
                        </div>
                        <div class="p-5 bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl">
                            <h4 class="font-bold text-gray-800 mb-3">Seller Performance</h4>
                            <div id="sellerInsight" class="space-y-2">
                                <!-- Seller performance data -->
                            </div>
                        </div>
                        <div class="p-5 bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl">
                            <h4 class="font-bold text-gray-800 mb-3">Fulfillment Bottlenecks</h4>
                            <div id="bottleneckInsight" class="space-y-2">
                                <!-- Bottleneck data -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- Modals -->
        <!-- Order Action Modal -->
        <div id="orderActionModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full slide-in">
                <div class="p-8">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800" id="modalTitle">Order Action</h3>
                            <p class="text-gray-600" id="modalSubtitle">Perform action on selected orders</p>
                        </div>
                        <button id="closeOrderActionModal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-2xl"></i>
                        </button>
                    </div>
                    
                    <div class="space-y-6">
                        <div id="modalBody">
                            <!-- Modal content will be filled dynamically -->
                        </div>
                        
                        <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200">
                            <button id="cancelModalAction" class="px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition">
                                Cancel
                            </button>
                            <button id="confirmModalAction" class="px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-500 text-white rounded-xl hover:from-blue-700 hover:to-blue-600 transition shadow-md">
                                Confirm Action
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Rejection Reason Modal -->
        <div id="rejectionModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full slide-in">
                <div class="p-8">
                    <div class="flex items-center mb-6">
                        <div class="w-12 h-12 bg-gradient-to-br from-red-100 to-red-50 rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-exclamation-triangle text-red-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-800">Reject Order</h3>
                            <p class="text-gray-600">Please provide a reason for rejection</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Rejection Reason</label>
                            <textarea id="rejectionReason" class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-red-500 focus:border-red-500" rows="4" placeholder="Enter detailed reason for rejecting this order..."></textarea>
                        </div>
                        
                        <div class="flex justify-end space-x-4 pt-4">
                            <button id="cancelReject" class="px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition">
                                Cancel
                            </button>
                            <button id="confirmReject" class="px-6 py-3 bg-gradient-to-r from-red-600 to-red-500 text-white rounded-xl hover:from-red-700 hover:to-red-600 transition shadow-md">
                                Reject Order
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Status Override Modal -->
        <div id="overrideModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full slide-in">
                <div class="p-8">
                    <div class="flex items-center mb-6">
                        <div class="w-12 h-12 bg-gradient-to-br from-purple-100 to-purple-50 rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-edit text-purple-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-800">Override Order Status</h3>
                            <p class="text-gray-600">Manually update order status with reason</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Order ID</label>
                            <input type="text" id="overrideOrderId" class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500" readonly>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">New Status</label>
                            <select id="newStatus" class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                                <option value="Accepted">Accepted</option>
                                <option value="Processing">Processing</option>
                                <option value="QC Done">QC Done</option>
                                <option value="Packed">Packed</option>
                                <option value="Shipped">Shipped</option>
                                <option value="Delivered">Delivered</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Reason for Override</label>
                            <textarea id="overrideReason" class="w-full border border-gray-300 rounded-xl p-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500" rows="3" placeholder="Enter reason for status override..."></textarea>
                        </div>
                        
                        <div class="flex justify-end space-x-4 pt-4">
                            <button id="cancelOverride" class="px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition">
                                Cancel
                            </button>
                            <button id="confirmOverride" class="px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-500 text-white rounded-xl hover:from-purple-700 hover:to-purple-600 transition shadow-md">
                                Confirm Override
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Generate Documents Modal -->
        <div id="documentsModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full slide-in">
                <div class="p-8">
                    <div class="flex items-center mb-6">
                        <div class="w-12 h-12 bg-gradient-to-br from-green-100 to-green-50 rounded-xl flex items-center justify-center mr-4">
                            <i class="fas fa-file-pdf text-green-600 text-xl"></i>
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-gray-800">Generate Documents</h3>
                            <p class="text-gray-600">Select documents to generate</p>
                        </div>
                    </div>
                    
                    <div class="space-y-6">
                        <div class="space-y-4">
                            <div class="flex items-center p-4 border border-gray-200 rounded-xl hover:border-blue-300 transition cursor-pointer" id="generatePackingSlipOption">
                                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-box text-blue-600"></i>
                                </div>
                                <div class="flex-grow">
                                    <h4 class="font-medium text-gray-800">Packing Slip</h4>
                                    <p class="text-sm text-gray-600">Shipping label and packing details</p>
                                </div>
                                <i class="fas fa-check text-green-500 hidden" id="packingSlipCheck"></i>
                            </div>
                            
                            <div class="flex items-center p-4 border border-gray-200 rounded-xl hover:border-green-300 transition cursor-pointer" id="generateInvoiceOption">
                                <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center mr-4">
                                    <i class="fas fa-file-invoice text-green-600"></i>
                                </div>
                                <div class="flex-grow">
                                    <h4 class="font-medium text-gray-800">Invoice</h4>
                                    <p class="text-sm text-gray-600">Customer invoice with payment details</p>
                                </div>
                                <i class="fas fa-check text-green-500 hidden" id="invoiceCheck"></i>
                            </div>
                        </div>
                        
                        <div class="flex justify-end space-x-4 pt-4">
                            <button id="cancelDocuments" class="px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition">
                                Cancel
                            </button>
                            <button id="confirmDocuments" class="px-6 py-3 bg-gradient-to-r from-green-600 to-green-500 text-white rounded-xl hover:from-green-700 hover:to-green-600 transition shadow-md">
                                Generate Documents
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Order Detail Modal -->
        <div id="orderDetailModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-50 flex items-center justify-center z-50 p-4">
            <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full slide-in">
                <div class="p-8">
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h3 class="text-2xl font-bold text-gray-800" id="detailOrderId">Order Detail</h3>
                            <p class="text-gray-600" id="detailCustomer">Customer details</p>
                        </div>
                        <button id="closeOrderDetailModal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-2xl"></i>
                        </button>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div>
                            <div class="mb-6">
                                <h4 class="text-lg font-semibold text-gray-800 mb-3">Order Items</h4>
                                <div id="detailItemsContainer" class="space-y-3">
                                    <!-- Items will be populated here -->
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="text-lg font-semibold text-gray-800 mb-3">Order Information</h4>
                                <div id="detailInfoContainer" class="space-y-2">
                                    <!-- Info will be populated here -->
                                </div>
                            </div>
                        </div>
                        
                        <div>
                            <div class="mb-6">
                                <h4 class="text-lg font-semibold text-gray-800 mb-3">Product Preview</h4>
                                <div class="bg-gray-100 rounded-xl overflow-hidden">
                                    <img id="detailMainImage" src="" alt="Product Image" class="w-full h-64 object-cover">
                                </div>
                            </div>
                            
                            <div>
                                <h4 class="text-lg font-semibold text-gray-800 mb-3">Actions</h4>
                                <div class="space-y-3">
                                    <button class="w-full btn-primary py-3">
                                        <i class="fas fa-check mr-2"></i> Confirm Order
                                    </button>
                                    <button class="w-full btn-danger py-3">
                                        <i class="fas fa-times mr-2"></i> Reject Order
                                    </button>
                                    <button class="w-full border border-blue-300 text-blue-600 rounded-xl py-3 hover:bg-blue-50">
                                        <i class="fas fa-arrow-right mr-2"></i> Update Status
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex justify-end space-x-4 pt-6 border-t border-gray-200 mt-6">
                        <button id="closeDetailModal" class="px-6 py-3 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition">
                            Close
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Toast Notification -->
        <div id="toast" class="hidden fixed bottom-8 right-8 bg-gradient-to-r from-gray-800 to-gray-900 text-white p-6 rounded-2xl shadow-2xl max-w-sm z-50 slide-in">
            <div class="flex items-start">
                <div class="w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-500 rounded-xl flex items-center justify-center mr-4">
                    <i class="fas fa-check text-white text-xl"></i>
                </div>
                <div>
                    <p class="font-bold text-lg mb-1" id="toastTitle">Success</p>
                    <p class="text-gray-300" id="toastMessage">Action completed successfully</p>
                </div>
            </div>
        </div>
        
        <!-- Floating Refresh Button -->
        <button id="refreshBtn" class="fixed bottom-8 left-8 w-14 h-14 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full shadow-2xl flex items-center justify-center hover:shadow-xl transition-all duration-300 z-40 floating">
            <i class="fas fa-sync-alt text-xl"></i>
        </button>
    </div>

    <script>
        // Fashion product images based on SKU types
        const productImages = {
            'SKU001': {
                main: 'https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=800&h=600&fit=crop&crop=center',
                items: [
                    'https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?w=400&h=400&fit=crop&crop=center',
                    'https://images.unsplash.com/photo-1582418702059-97ebafb35d09?w=400&h=400&fit=crop&crop=center',
                    'https://images.unsplash.com/photo-1543163521-1bf539c55dd2?w=400&h=400&fit=crop&crop=center'
                ]
            },
            'SKU002': {
                main: 'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=800&h=600&fit=crop&crop=center',
                items: [
                    'https://images.unsplash.com/photo-1523381210434-271e8be1f52b?w=400&h=400&fit=crop&crop=center',
                    'https://images.unsplash.com/photo-1520006403909-838d6b92c22e?w=400&h=400&fit=crop&crop=center',
                    'https://images.unsplash.com/photo-1539109136881-3be0616acf4b?w=400&h=400&fit=crop&crop=center'
                ]
            },
            'SKU003': {
                main: 'https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=800&h=600&fit=crop&crop=center',
                items: [
                    'https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=400&h=400&fit=crop&crop=center',
                    'https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=400&h=400&fit=crop&crop=center',
                    'https://images.unsplash.com/photo-1552374196-c4e7ffc6e126?w=400&h=400&fit=crop&crop=center'
                ]
            }
        };
        
        const statusFlow = ["Accepted", "Processing", "QC Done", "Packed", "Shipped", "Delivered"];
        
        // State
        let currentRole = 'seller';
        let selectedOrders = [];
        let currentOrderForAction = null;
        let mockData = [];
        let selectedDocumentTypes = {
            packingSlip: false,
            invoice: false
        };
        let currentViewMode = 'grid'; // 'grid' or 'list'
        
        // Notification system
        let notifications = [
            {
                id: 1,
                type: 'order_accepted',
                title: 'Order Accepted',
                message: 'Order ORD-1001 has been accepted by Seller A',
                timestamp: '2023-10-15 10:30 AM',
                read: false,
                orderId: 'ORD-1001',
                seller: 'Seller A'
            },
            {
                id: 2,
                type: 'order_rejected',
                title: 'Order Rejected',
                message: 'Order ORD-1002 has been rejected by Seller B - Reason: Out of stock',
                timestamp: '2023-10-14 03:45 PM',
                read: false,
                orderId: 'ORD-1002',
                seller: 'Seller B'
            },
            {
                id: 3,
                type: 'sla_breach',
                title: 'SLA Breach Alert',
                message: 'Order ORD-1004 has exceeded 48h SLA',
                timestamp: '2023-10-13 09:15 AM',
                read: true,
                orderId: 'ORD-1004',
                seller: 'Seller B'
            }
        ];

        // Generate initial mock data with consistent images
        function generateMockData() {
            const orders = [
                {
                    id: "ORD-1001",
                    seller: "Seller A",
                    date: "2023-10-15",
                    customer: "Sarah Johnson",
                    skuDetails: "SKU001 (L), SKU002 (M)",
                    items: [
                        { sku: "SKU001", size: "L", color: "Red", quantity: 1 },
                        { sku: "SKU002", size: "M", color: "Blue", quantity: 2 }
                    ],
                    status: "Accepted",
                    total: "$149.99",
                    sla: "24",
                    risk: "medium",
                    notes: "Customer prefers loose fit. Delivery before 5 PM.",
                    fulfillmentPartner: "Partner A",
                    isDelayed: false,
                    isHighRisk: false,
                    customerNotes: "Please ensure packaging is discreet. Gift for anniversary.",
                    orderProgress: 20
                },
                {
                    id: "ORD-1002",
                    seller: "Seller B",
                    date: "2023-10-14",
                    customer: "Michael Chen",
                    skuDetails: "SKU003 (S)",
                    items: [
                        { sku: "SKU003", size: "S", color: "Black", quantity: 1 }
                    ],
                    status: "Processing",
                    total: "$79.99",
                    sla: "48",
                    risk: "high",
                    notes: "Measurement: Chest 38\", Waist 32\". COD order.",
                    fulfillmentPartner: "Partner B",
                    isDelayed: true,
                    isHighRisk: true,
                    customerNotes: "Need by Friday for event. Please include gift receipt.",
                    orderProgress: 40
                },
                {
                    id: "ORD-1003",
                    seller: "Seller A",
                    date: "2023-10-13",
                    customer: "Emma Wilson",
                    skuDetails: "SKU001 (XL), SKU003 (M)",
                    items: [
                        { sku: "SKU001", size: "XL", color: "Red", quantity: 1 },
                        { sku: "SKU003", size: "M", color: "Black", quantity: 1 }
                    ],
                    status: "QC Done",
                    total: "$199.99",
                    sla: "normal",
                    risk: "low",
                    notes: "Customer has previous return. Handle with care.",
                    fulfillmentPartner: "Partner A",
                    isDelayed: false,
                    isHighRisk: false,
                    customerNotes: "Allergic to synthetic fabrics, please check material.",
                    orderProgress: 60
                },
                {
                    id: "ORD-1004",
                    seller: "Seller B",
                    date: "2023-10-12",
                    customer: "David Miller",
                    skuDetails: "SKU002 (S), SKU002 (M)",
                    items: [
                        { sku: "SKU002", size: "S", color: "Blue", quantity: 1 },
                        { sku: "SKU002", size: "M", color: "Blue", quantity: 1 }
                    ],
                    status: "Packed",
                    total: "$119.98",
                    sla: "72",
                    risk: "medium",
                    notes: "Gift wrapping requested. Include note.",
                    fulfillmentPartner: "Partner B",
                    isDelayed: true,
                    isHighRisk: false,
                    customerNotes: "Delivery after 6 PM only. Leave at door if no answer.",
                    orderProgress: 80
                },
                {
                    id: "ORD-1005",
                    seller: "Seller A",
                    date: "2023-10-11",
                    customer: "Olivia Parker",
                    skuDetails: "SKU001 (M)",
                    items: [
                        { sku: "SKU001", size: "M", color: "Red", quantity: 1 }
                    ],
                    status: "Shipped",
                    total: "$89.99",
                    sla: "normal",
                    risk: "low",
                    notes: "Leave at front door if no answer.",
                    fulfillmentPartner: "Partner A",
                    isDelayed: false,
                    isHighRisk: false,
                    customerNotes: "Fragile item, please handle with care. Gift wrap requested.",
                    orderProgress: 90
                },
                {
                    id: "ORD-1006",
                    seller: "Seller B",
                    date: "2023-10-10",
                    customer: "James Wilson",
                    skuDetails: "SKU003 (L)",
                    items: [
                        { sku: "SKU003", size: "L", color: "Black", quantity: 1 }
                    ],
                    status: "Delivered",
                    total: "$99.99",
                    sla: "normal",
                    risk: "low",
                    notes: "Delivered successfully",
                    fulfillmentPartner: "Partner B",
                    isDelayed: false,
                    isHighRisk: false,
                    customerNotes: "Leave with concierge if unavailable.",
                    orderProgress: 100
                }
            ];
            
            // Add images to each order based on SKU
            return orders.map(order => {
                // Determine main image based on first SKU
                const firstSku = order.items[0].sku;
                order.mainImage = productImages[firstSku].main;
                
                // Add images to each item
                order.items = order.items.map(item => {
                    item.image = productImages[item.sku].items[Math.floor(Math.random() * productImages[item.sku].items.length)];
                    return item;
                });
                
                return order;
            });
        }

        // Initialize mock data
        mockData = generateMockData();

        // DOM Elements
        const sellerViewBtn = document.getElementById('sellerViewBtn');
        const adminViewBtn = document.getElementById('adminViewBtn');
        const sellerDashboard = document.getElementById('sellerDashboard');
        const adminDashboard = document.getElementById('adminDashboard');
        const currentRoleDisplay = document.getElementById('currentRoleDisplay');
        const sellerOrdersBody = document.getElementById('sellerOrdersBody');
        const adminOrdersBody = document.getElementById('adminOrdersBody');
        const ordersGridView = document.getElementById('ordersGridView');
        const ordersListView = document.getElementById('ordersListView');
        const gridViewBtn = document.getElementById('gridViewBtn');
        const listViewBtn = document.getElementById('listViewBtn');
        const ordersCount = document.getElementById('ordersCount');
        const adminOrdersCount = document.getElementById('adminOrdersCount');
        const customerNotesContainer = document.getElementById('customerNotesContainer');
        const alertsContainer = document.getElementById('alertsContainer');
        const categoryInsight = document.getElementById('categoryInsight');
        const sellerInsight = document.getElementById('sellerInsight');
        const bottleneckInsight = document.getElementById('bottleneckInsight');
        const notificationBell = document.getElementById('notificationBell');
        const notificationDropdown = document.getElementById('notificationDropdown');
        const notificationList = document.getElementById('notificationList');
        const notificationCount = document.getElementById('notificationCount');
        const markAllReadBtn = document.getElementById('markAllRead');
        
        // Stats elements
        const sellerTotalOrders = document.getElementById('sellerTotalOrders');
        const sellerPendingOrders = document.getElementById('sellerPendingOrders');
        const sellerToShipOrders = document.getElementById('sellerToShipOrders');
        const sellerDelayedOrders = document.getElementById('sellerDelayedOrders');
        const adminTotalOrders = document.getElementById('adminTotalOrders');
        const adminSlaBreached = document.getElementById('adminSlaBreached');
        const adminHighRisk = document.getElementById('adminHighRisk');
        const adminSlaCompliance = document.getElementById('adminSlaCompliance');

        // Initialize Dashboard
        function initDashboard() {
            setupEventListeners();
            updateNotifications();
            renderSellerDashboard();
            updateSellerStats();
            updateAdminStats();
            generateInsights();
            updateDateTime();
            setInterval(updateDateTime, 60000);
        }

        function updateDateTime() {
            const now = new Date();
            const timeString = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const dateString = now.toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            
            // Update header date/time if element exists
            const dateElement = document.getElementById('currentDate');
            const timeElement = document.getElementById('currentTime');
            
            if (dateElement) dateElement.textContent = dateString;
            if (timeElement) timeElement.textContent = timeString;
        }

        function setupEventListeners() {
            // View switching
            sellerViewBtn.addEventListener('click', () => switchView('seller'));
            adminViewBtn.addEventListener('click', () => switchView('admin'));
            
            // View mode switching
            gridViewBtn.addEventListener('click', () => switchViewMode('grid'));
            listViewBtn.addEventListener('click', () => switchViewMode('list'));
            
            // Notification bell click
            notificationBell.addEventListener('click', toggleNotificationDropdown);
            
            // Mark all as read
            markAllReadBtn.addEventListener('click', markAllNotificationsAsRead);
            
            // Close notification dropdown when clicking outside
            document.addEventListener('click', (event) => {
                if (!event.target.closest('#notificationBell') && !event.target.closest('#notificationDropdown')) {
                    notificationDropdown.style.display = 'none';
                }
            });
            
            // Seller filters
            document.getElementById('sellerDateFilter').addEventListener('change', filterSellerOrders);
            document.getElementById('skuFilter').addEventListener('change', filterSellerOrders);
            document.getElementById('sizeFilter').addEventListener('change', filterSellerOrders);
            document.getElementById('partnerFilter').addEventListener('change', filterSellerOrders);
            document.getElementById('showDelayedBtn').addEventListener('click', showDelayedOrders);
            document.getElementById('clearFiltersBtn').addEventListener('click', clearSellerFilters);
            
            // Seller actions
            document.getElementById('generateDocuments').addEventListener('click', showDocumentsModal);
            document.getElementById('mergeOrdersBtn').addEventListener('click', mergeOrders);
            document.getElementById('splitOrderBtn').addEventListener('click', splitOrder);
            
            // Admin actions
            document.getElementById('runQcCheckBtn').addEventListener('click', runQCCheck);
            document.getElementById('overrideStatusBtn').addEventListener('click', openOverrideModal);
            
            // Admin filters
            document.getElementById('sellerFilter').addEventListener('change', filterAdminOrders);
            document.getElementById('statusFilter').addEventListener('change', filterAdminOrders);
            document.getElementById('slaFilter').addEventListener('change', filterAdminOrders);
            
            // Modal close buttons
            document.getElementById('closeOrderActionModal').addEventListener('click', () => {
                document.getElementById('orderActionModal').classList.add('hidden');
            });
            
            document.getElementById('cancelModalAction').addEventListener('click', () => {
                document.getElementById('orderActionModal').classList.add('hidden');
            });
            
            // Order detail modal
            document.getElementById('closeOrderDetailModal').addEventListener('click', () => {
                document.getElementById('orderDetailModal').classList.add('hidden');
            });
            
            document.getElementById('closeDetailModal').addEventListener('click', () => {
                document.getElementById('orderDetailModal').classList.add('hidden');
            });
            
            // Rejection modal
            document.getElementById('confirmReject').addEventListener('click', confirmReject);
            document.getElementById('cancelReject').addEventListener('click', () => {
                document.getElementById('rejectionModal').classList.add('hidden');
            });
            
            // Override modal
            document.getElementById('confirmOverride').addEventListener('click', confirmOverride);
            document.getElementById('cancelOverride').addEventListener('click', () => {
                document.getElementById('overrideModal').classList.add('hidden');
            });
            
            // Documents modal
            document.getElementById('generatePackingSlipOption').addEventListener('click', () => {
                const check = document.getElementById('packingSlipCheck');
                selectedDocumentTypes.packingSlip = !selectedDocumentTypes.packingSlip;
                check.classList.toggle('hidden', !selectedDocumentTypes.packingSlip);
            });
            
            document.getElementById('generateInvoiceOption').addEventListener('click', () => {
                const check = document.getElementById('invoiceCheck');
                selectedDocumentTypes.invoice = !selectedDocumentTypes.invoice;
                check.classList.toggle('hidden', !selectedDocumentTypes.invoice);
            });
            
            document.getElementById('cancelDocuments').addEventListener('click', () => {
                document.getElementById('documentsModal').classList.add('hidden');
            });
            
            document.getElementById('confirmDocuments').addEventListener('click', generateDocuments);
            
            // Select all checkbox
            document.getElementById('selectAllOrders').addEventListener('change', toggleSelectAll);
            
            // Refresh button
            document.getElementById('refreshBtn').addEventListener('click', handleRefresh);

            // Seller stats cards click events
            document.getElementById('sellerTotalOrders').closest('.stats-card').addEventListener('click', () => {
                const allOrders = mockData;
                showStatsDetail('sellerTotalOrders', 'Total Orders', allOrders);
            });
            
            document.getElementById('sellerPendingOrders').closest('.stats-card').addEventListener('click', () => {
                const pendingOrders = mockData.filter(order => order.status === 'Accepted');
                showStatsDetail('sellerPendingOrders', 'Pending Orders', pendingOrders);
            });
            
            document.getElementById('sellerToShipOrders').closest('.stats-card').addEventListener('click', () => {
                const toShipOrders = mockData.filter(order => ['Processing', 'QC Done', 'Packed'].includes(order.status));
                showStatsDetail('sellerToShipOrders', 'To Ship Orders', toShipOrders);
            });
            
            document.getElementById('sellerDelayedOrders').closest('.stats-card').addEventListener('click', () => {
                const delayedOrders = mockData.filter(order => order.isDelayed);
                showStatsDetail('sellerDelayedOrders', 'Delayed Orders', delayedOrders);
            });

            // Admin stats cards click events
            document.getElementById('adminTotalOrders').closest('.stats-card').addEventListener('click', () => {
                const allOrders = mockData;
                showStatsDetail('adminTotalOrders', 'Total Orders', allOrders);
            });
            
            document.getElementById('adminSlaBreached').closest('.stats-card').addEventListener('click', () => {
                const slaBreachedOrders = mockData.filter(order => order.sla !== 'normal');
                showStatsDetail('adminSlaBreached', 'SLA Breached Orders', slaBreachedOrders);
            });
            
            document.getElementById('adminHighRisk').closest('.stats-card').addEventListener('click', () => {
                const highRiskOrders = mockData.filter(order => order.risk === 'high');
                showStatsDetail('adminHighRisk', 'High Risk Orders', highRiskOrders);
            });
            
            document.getElementById('adminSlaCompliance').closest('.stats-card').addEventListener('click', () => {
                const compliantOrders = mockData.filter(order => order.sla === 'normal');
                showStatsDetail('adminSlaCompliance', 'SLA Compliant Orders', compliantOrders);
            });
        }

        function toggleNotificationDropdown() {
            if (notificationDropdown.style.display === 'block') {
                notificationDropdown.style.display = 'none';
            } else {
                notificationDropdown.style.display = 'block';
                updateNotifications();
            }
        }

        function updateNotifications() {
            const unreadCount = notifications.filter(n => !n.read).length;
            notificationCount.textContent = unreadCount;
            
            // Update notification list
            notificationList.innerHTML = '';
            
            if (notifications.length === 0) {
                notificationList.innerHTML = `
                    <div class="p-8 text-center">
                        <i class="fas fa-bell-slash text-gray-300 text-3xl mb-3"></i>
                        <p class="text-gray-500">No notifications</p>
                    </div>
                `;
                return;
            }
            
            notifications.forEach(notification => {
                const notificationItem = document.createElement('div');
                notificationItem.className = `notification-item ${notification.read ? '' : 'unread'}`;
                notificationItem.innerHTML = `
                    <div class="flex items-start">
                        <div class="mr-3 mt-1">
                            ${notification.type === 'order_accepted' ? 
                                '<i class="fas fa-check-circle text-green-500"></i>' : 
                                notification.type === 'order_rejected' ? 
                                '<i class="fas fa-times-circle text-red-500"></i>' :
                                '<i class="fas fa-exclamation-triangle text-yellow-500"></i>'}
                        </div>
                        <div class="flex-grow">
                            <h4 class="font-medium text-gray-800">${notification.title}</h4>
                            <p class="text-sm text-gray-600 mt-1">${notification.message}</p>
                            <p class="text-xs text-gray-500 mt-2">${notification.timestamp}</p>
                        </div>
                        ${!notification.read ? '<div class="w-2 h-2 bg-blue-500 rounded-full"></div>' : ''}
                    </div>
                `;
                
                notificationItem.addEventListener('click', (e) => {
                    markNotificationAsRead(notification.id);
                    if (notification.orderId) {
                        showOrderDetail(notification.orderId);
                        notificationDropdown.style.display = 'none';
                    }
                });
                
                notificationList.appendChild(notificationItem);
            });
        }

        function markNotificationAsRead(notificationId) {
            const notification = notifications.find(n => n.id === notificationId);
            if (notification && !notification.read) {
                notification.read = true;
                updateNotifications();
            }
        }

        function markAllNotificationsAsRead() {
            notifications.forEach(notification => {
                notification.read = true;
            });
            updateNotifications();
        }

        function addNotification(type, title, message, orderId = null, seller = null) {
            const now = new Date();
            const timestamp = `${now.toLocaleDateString()} ${now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}`;
            
            const newNotification = {
                id: notifications.length + 1,
                type,
                title,
                message,
                timestamp,
                read: false,
                orderId,
                seller
            };
            
            notifications.unshift(newNotification); // Add to beginning
            updateNotifications();
            
            // Show desktop notification if browser supports it
            if ("Notification" in window && Notification.permission === "granted") {
                new Notification(title, {
                    body: message,
                    icon: '/favicon.ico'
                });
            }
        }

        function switchViewMode(mode) {
            currentViewMode = mode;
            
            if (mode === 'grid') {
                ordersGridView.classList.remove('hidden');
                ordersListView.classList.add('hidden');
                gridViewBtn.className = 'px-3 py-1 bg-blue-600 text-white rounded-lg text-sm';
                listViewBtn.className = 'px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50';
            } else {
                ordersGridView.classList.add('hidden');
                ordersListView.classList.remove('hidden');
                gridViewBtn.className = 'px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-50';
                listViewBtn.className = 'px-3 py-1 bg-blue-600 text-white rounded-lg text-sm';
            }
            
            renderSellerDashboard();
        }

        function switchView(view) {
            currentRole = view;
            
            if (view === 'seller') {
                sellerDashboard.classList.remove('hidden');
                adminDashboard.classList.add('hidden');
                sellerViewBtn.className = 'px-6 py-2 rounded-lg transition flex items-center seller-gradient text-white';
                adminViewBtn.className = 'px-6 py-2 rounded-lg transition flex items-center bg-white text-gray-700 hover:bg-gray-50';
                currentRoleDisplay.textContent = 'Seller';
                renderSellerDashboard();
            } else {
                sellerDashboard.classList.add('hidden');
                adminDashboard.classList.remove('hidden');
                sellerViewBtn.className = 'px-6 py-2 rounded-lg transition flex items-center bg-white text-gray-700 hover:bg-gray-50';
                adminViewBtn.className = 'px-6 py-2 rounded-lg transition flex items-center admin-gradient text-white';
                currentRoleDisplay.textContent = 'Admin';
                renderAdminDashboard();
            }
        }

        function showStatsDetail(statType, title, orders) {
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <p class="text-gray-700 mb-4">${orders.length} ${title.toLowerCase()}:</p>
                <div class="space-y-3 max-h-60 overflow-y-auto">
                    ${orders.map(order => `
                        <div class="p-3 border border-gray-200 rounded-xl bg-gradient-to-r from-gray-50 to-white hover:from-blue-50 hover:to-blue-100 transition">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="font-medium text-gray-800">${order.id}</p>
                                    <p class="text-sm text-gray-600">${order.customer}  ${order.seller}</p>
                                    <p class="text-xs text-gray-500">${order.date}  ${order.status}</p>
                                </div>
                                <div>
                                    <span class="badge ${order.status === 'Delivered' ? 'status-delivered' : order.isDelayed ? 'sla-72' : 'status-processing'}">${order.total}</span>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            document.getElementById('modalTitle').textContent = `${title} Details`;
            document.getElementById('confirmModalAction').classList.add('hidden');
            document.getElementById('cancelModalAction').textContent = 'Close';
            
            const modal = document.getElementById('orderActionModal');
            modal.classList.remove('hidden');
            
            // Update cancel button action
            const cancelBtn = document.getElementById('cancelModalAction');
            cancelBtn.onclick = () => {
                modal.classList.add('hidden');
                // Reset button
                document.getElementById('confirmModalAction').classList.remove('hidden');
                document.getElementById('cancelModalAction').textContent = 'Cancel';
            };
        }

        function renderSellerDashboard() {
            ordersGridView.innerHTML = '';
            sellerOrdersBody.innerHTML = '';
            customerNotesContainer.innerHTML = '';
            
            const filteredOrders = filterOrdersForSeller();
            
            filteredOrders.forEach(order => {
                const statusClass = `status-${order.status.toLowerCase().replace(' ', '-')}`;
                const statusText = order.status;
                
                // Grid View Card
                if (currentViewMode === 'grid') {
                    const card = document.createElement('div');
                    card.className = 'order-card card-hover';
                    card.innerHTML = `
                        <div class="relative">
                            <img src="${order.mainImage}" 
                                 alt="Product" 
                                 class="order-image">
                            <div class="absolute top-3 right-3">
                                <input type="checkbox" class="order-checkbox rounded-full border-gray-300 text-blue-600 focus:ring-blue-500 h-5 w-5" value="${order.id}">
                            </div>
                            <div class="absolute bottom-3 left-3">
                                <span class="badge ${statusClass}">${statusText}</span>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-start mb-3">
                                <div>
                                    <h4 class="font-bold text-gray-800">${order.id}</h4>
                                    <p class="text-sm text-gray-600">${order.date}</p>
                                </div>
                                <div class="text-right">
                                    <p class="font-bold text-gray-800">${order.total}</p>
                                    <p class="text-xs text-gray-500">${order.items.length} item${order.items.length > 1 ? 's' : ''}</p>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <p class="font-medium text-gray-800 mb-1">${order.customer}</p>
                                <p class="text-sm text-gray-600">${order.skuDetails}</p>
                            </div>
                            
                            <div class="space-y-2 mb-4">
                                ${order.items.slice(0, 2).map(item => `
                                    <div class="product-item">
                                        <img src="${item.image}" 
                                             alt="${item.sku}" 
                                             class="product-image-small">
                                        <div class="flex-grow">
                                            <p class="text-sm font-medium text-gray-800">${item.sku} (${item.size})</p>
                                            <p class="text-xs text-gray-600">Color: ${item.color}  Qty: ${item.quantity}</p>
                                        </div>
                                    </div>
                                `).join('')}
                                ${order.items.length > 2 ? `
                                    <p class="text-xs text-gray-500 text-center">+${order.items.length - 2} more items</p>
                                ` : ''}
                            </div>
                            
                            <div class="flex justify-between space-x-2">
                                <button class="text-blue-600 hover:text-blue-900 confirm-order-btn text-sm font-medium px-3 py-1 bg-blue-50 rounded-lg" data-id="${order.id}">
                                    <i class="fas fa-check mr-1"></i>Confirm
                                </button>
                                <button class="text-green-600 hover:text-green-900 next-status-btn text-sm font-medium px-3 py-1 bg-green-50 rounded-lg" data-id="${order.id}">
                                    <i class="fas fa-arrow-right mr-1"></i>Next
                                </button>
                                <button class="text-red-600 hover:text-red-900 reject-order-btn text-sm font-medium px-3 py-1 bg-red-50 rounded-lg" data-id="${order.id}">
                                    <i class="fas fa-times mr-1"></i>Reject
                                </button>
                            </div>
                            
                            <div class="mt-4 pt-3 border-t border-gray-100">
                                <button class="view-order-detail-btn text-blue-600 hover:text-blue-800 text-sm font-medium w-full text-center" data-id="${order.id}">
                                    <i class="fas fa-eye mr-1"></i> View Details
                                </button>
                            </div>
                        </div>
                    `;
                    ordersGridView.appendChild(card);
                }
                
                // List View Row
                else {
                    const row = document.createElement('tr');
                    row.className = 'hover:bg-gray-50';
                    
                    row.innerHTML = `
                        <td class="px-6 py-4 whitespace-nowrap">
                            <input type="checkbox" class="order-checkbox rounded border-gray-300 text-blue-600 focus:ring-blue-500" value="${order.id}">
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="font-medium text-gray-900">${order.id}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-gray-900">${order.date}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm font-medium text-gray-900">${order.customer}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm text-gray-900">${order.skuDetails}</div>
                            <div class="text-xs text-gray-500">${order.items.length} item${order.items.length > 1 ? 's' : ''}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="badge ${statusClass}">${statusText}</span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="text-sm font-bold text-gray-900">${order.total}</div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <div class="flex space-x-2">
                                ${order.status !== 'Delivered' ? `
                                    <button class="text-blue-600 hover:text-blue-900 confirm-order-btn" data-id="${order.id}">
                                        <i class="fas fa-check mr-1"></i>Confirm
                                    </button>
                                    <button class="text-green-600 hover:text-green-900 next-status-btn" data-id="${order.id}">
                                        <i class="fas fa-arrow-right mr-1"></i>Next
                                    </button>
                                    <button class="text-red-600 hover:text-red-900 reject-order-btn" data-id="${order.id}">
                                        <i class="fas fa-times mr-1"></i>Reject
                                    </button>
                                ` : '<span class="text-green-600">Completed</span>'}
                            </div>
                        </td>
                    `;
                    
                    sellerOrdersBody.appendChild(row);
                }
                
                // Add customer notes if exists
                if (order.customerNotes) {
                    const noteCard = document.createElement('div');
                    noteCard.className = 'p-4 rounded-xl risk-medium';
                    noteCard.innerHTML = `
                        <div class="flex items-start">
                            <div class="w-10 h-10 bg-gradient-to-br from-blue-100 to-blue-50 rounded-lg flex items-center justify-center mr-3">
                                <i class="fas fa-user text-blue-600"></i>
                            </div>
                            <div class="flex-grow">
                                <h4 class="font-medium text-gray-800">${order.customer} - ${order.id}</h4>
                                <p class="text-sm text-gray-600 mt-1">${order.customerNotes}</p>
                            </div>
                        </div>
                    `;
                    customerNotesContainer.appendChild(noteCard);
                }
            });
            
            // Add event listeners to new buttons
            attachOrderEventListeners();
            
            ordersCount.textContent = `${filteredOrders.length} orders`;
            updateSellerStats();
        }

        function showOrderDetail(orderId) {
            const order = mockData.find(o => o.id === orderId);
            if (!order) return;
            
            document.getElementById('detailOrderId').textContent = `Order ${order.id}`;
            document.getElementById('detailCustomer').textContent = order.customer;
            document.getElementById('detailMainImage').src = order.mainImage;
            
            // Populate order items
            const itemsContainer = document.getElementById('detailItemsContainer');
            itemsContainer.innerHTML = order.items.map(item => `
                <div class="flex items-center p-3 border border-gray-200 rounded-xl">
                    <img src="${item.image}" 
                         alt="${item.sku}" 
                         class="w-16 h-16 object-cover rounded-lg mr-3">
                    <div class="flex-grow">
                        <h5 class="font-medium text-gray-800">${item.sku} (${item.size})</h5>
                        <p class="text-sm text-gray-600">Color: ${item.color}</p>
                        <p class="text-sm text-gray-600">Quantity: ${item.quantity}</p>
                    </div>
                    <div class="text-right">
                        <p class="text-sm text-gray-500">${item.sku === 'SKU001' ? '$49.99' : item.sku === 'SKU002' ? '$39.99' : '$79.99'} each</p>
                    </div>
                </div>
            `).join('');
            
            // Populate order information
            const infoContainer = document.getElementById('detailInfoContainer');
            const statusClass = `status-${order.status.toLowerCase().replace(' ', '-')}`;
            
            infoContainer.innerHTML = `
                <div class="flex justify-between">
                    <span class="text-gray-600">Status:</span>
                    <span class="badge ${statusClass}">${order.status}</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-600">Order Date:</span>
                    <span class="font-medium">${order.date}</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-600">Total Amount:</span>
                    <span class="font-bold text-gray-800">${order.total}</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-600">Seller:</span>
                    <span class="font-medium">${order.seller}</span>
                </div>
                <div class="flex justify-between">
                    <span class="text-gray-600">Fulfillment Partner:</span>
                    <span class="font-medium">${order.fulfillmentPartner}</span>
                </div>
                ${order.notes ? `
                <div class="mt-3 pt-3 border-t border-gray-200">
                    <p class="text-sm text-gray-600 mb-1">Order Notes:</p>
                    <p class="text-sm text-gray-800">${order.notes}</p>
                </div>
                ` : ''}
                ${order.customerNotes ? `
                <div class="mt-2">
                    <p class="text-sm text-gray-600 mb-1">Customer Notes:</p>
                    <p class="text-sm text-gray-800">${order.customerNotes}</p>
                </div>
                ` : ''}
            `;
            
            document.getElementById('orderDetailModal').classList.remove('hidden');
        }

        function renderAdminDashboard() {
            adminOrdersBody.innerHTML = '';
            alertsContainer.innerHTML = '';
            
            const filteredOrders = filterOrdersForAdmin();
            
            // Render alerts
            const highRiskOrders = mockData.filter(order => order.isHighRisk);
            const delayedOrders = mockData.filter(order => order.isDelayed);
            
            if (highRiskOrders.length > 0) {
                highRiskOrders.forEach(order => {
                    const alertCard = document.createElement('div');
                    alertCard.className = 'p-4 rounded-xl risk-high';
                    alertCard.innerHTML = `
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-gradient-to-br from-red-100 to-red-50 rounded-lg flex items-center justify-center mr-3">
                                <i class="fas fa-exclamation-triangle text-red-600"></i>
                            </div>
                            <div class="flex-grow">
                                <h4 class="font-medium text-gray-800">High Risk Alert - ${order.id}</h4>
                                <p class="text-sm text-gray-600">${order.customer}  ${order.seller}  ${order.risk} risk</p>
                            </div>
                            <button class="text-blue-600 hover:text-blue-800 text-sm font-medium view-order-btn" data-id="${order.id}">
                                View
                            </button>
                        </div>
                    `;
                    alertsContainer.appendChild(alertCard);
                });
            }
            
            if (delayedOrders.length > 0) {
                delayedOrders.forEach(order => {
                    const alertCard = document.createElement('div');
                    alertCard.className = 'p-4 rounded-xl risk-medium';
                    alertCard.innerHTML = `
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-gradient-to-br from-yellow-100 to-yellow-50 rounded-lg flex items-center justify-center mr-3">
                                <i class="fas fa-clock text-yellow-600"></i>
                            </div>
                            <div class="flex-grow">
                                <h4 class="font-medium text-gray-800">SLA Delay - ${order.id}</h4>
                                <p class="text-sm text-gray-600">${order.sla}+ hours delayed  ${order.seller}</p>
                            </div>
                            <button class="text-blue-600 hover:text-blue-800 text-sm font-medium view-order-btn" data-id="${order.id}">
                                View
                            </button>
                        </div>
                    `;
                    alertsContainer.appendChild(alertCard);
                });
            }
            
            if (highRiskOrders.length === 0 && delayedOrders.length === 0) {
                const noAlerts = document.createElement('div');
                noAlerts.className = 'p-4 rounded-xl bg-gradient-to-br from-green-50 to-emerald-50 text-center';
                noAlerts.innerHTML = `
                    <i class="fas fa-check-circle text-green-500 text-2xl mb-2"></i>
                    <p class="font-medium text-gray-800">No active alerts</p>
                    <p class="text-sm text-gray-600">All systems are running smoothly</p>
                `;
                alertsContainer.appendChild(noAlerts);
            }
            
            // Render orders table
            filteredOrders.forEach(order => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50';
                
                const statusClass = `status-${order.status.toLowerCase().replace(' ', '-')}`;
                const slaClass = order.sla !== 'normal' ? `sla-${order.sla}` : 'bg-gray-100 text-gray-800';
                const riskClass = `risk-${order.risk}`;
                const slaText = order.sla === 'normal' ? 'On Time' : `${order.sla}+ hours`;
                
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="font-medium text-gray-900">${order.id}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${order.seller}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${order.date}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm font-medium text-gray-900">${order.customer}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <div class="text-sm text-gray-900">${order.skuDetails}</div>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="badge ${statusClass}">${order.status}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="badge ${slaClass}">${slaText}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="badge ${riskClass}">${order.risk.toUpperCase()}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button class="text-blue-600 hover:text-blue-900 next-status-btn" data-id="${order.id}">
                            <i class="fas fa-arrow-right mr-1"></i>Next
                        </button>
                    </td>
                `;
                
                adminOrdersBody.appendChild(row);
            });
            
            // Add event listeners
            attachOrderEventListeners();
            
            adminOrdersCount.textContent = `${filteredOrders.length} orders`;
            updateAdminStats();
        }

        function attachOrderEventListeners() {
            document.querySelectorAll('.confirm-order-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const orderId = e.target.closest('button').dataset.id;
                    confirmOrder(orderId);
                });
            });
            
            document.querySelectorAll('.reject-order-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const orderId = e.target.closest('button').dataset.id;
                    showRejectionModal(orderId);
                });
            });
            
            document.querySelectorAll('.next-status-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const orderId = e.target.closest('button').dataset.id;
                    updateOrderStatus(orderId);
                });
            });
            
            document.querySelectorAll('.view-order-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const orderId = e.target.closest('button').dataset.id;
                    showOrderDetail(orderId);
                });
            });
            
            document.querySelectorAll('.view-order-detail-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const orderId = e.target.closest('button').dataset.id;
                    showOrderDetail(orderId);
                });
            });
            
            document.querySelectorAll('.order-checkbox').forEach(checkbox => {
                checkbox.addEventListener('change', updateSelectedOrders);
            });
        }

        function updateSelectedOrders() {
            selectedOrders = Array.from(document.querySelectorAll('.order-checkbox:checked'))
                .map(cb => cb.value);
        }

        function toggleSelectAll(e) {
            const checkboxes = document.querySelectorAll('.order-checkbox');
            checkboxes.forEach(cb => cb.checked = e.target.checked);
            updateSelectedOrders();
        }

        function filterOrdersForSeller() {
            const dateFilter = document.getElementById('sellerDateFilter').value;
            const skuFilter = document.getElementById('skuFilter').value;
            const sizeFilter = document.getElementById('sizeFilter').value;
            const partnerFilter = document.getElementById('partnerFilter').value;
            
            return mockData.filter(order => {
                if (dateFilter && order.date !== dateFilter) return false;
                if (skuFilter && !order.skuDetails.includes(skuFilter)) return false;
                if (sizeFilter && !order.skuDetails.includes(`(${sizeFilter})`)) return false;
                if (partnerFilter && order.fulfillmentPartner !== partnerFilter) return false;
                return true;
            });
        }

        function filterOrdersForAdmin() {
            const sellerFilter = document.getElementById('sellerFilter').value;
            const statusFilter = document.getElementById('statusFilter').value;
            const slaFilter = document.getElementById('slaFilter').value;
            
            return mockData.filter(order => {
                if (sellerFilter && order.seller !== sellerFilter) return false;
                if (statusFilter && order.status !== statusFilter) return false;
                if (slaFilter && order.sla !== slaFilter) return false;
                return true;
            });
        }

        function filterSellerOrders() {
            renderSellerDashboard();
        }

        function filterAdminOrders() {
            renderAdminDashboard();
        }

        function showDelayedOrders() {
            const delayedOrders = mockData.filter(order => order.isDelayed);
            
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <p class="text-gray-700 mb-4">Showing ${delayedOrders.length} delayed orders:</p>
                <div class="space-y-3 max-h-60 overflow-y-auto">
                    ${delayedOrders.map(order => `
                        <div class="p-3 border border-red-100 rounded-xl bg-gradient-to-r from-red-50 to-pink-50">
                            <div class="flex justify-between items-center">
                                <div>
                                    <p class="font-medium text-gray-800">${order.id}</p>
                                    <p class="text-sm text-gray-600">${order.customer}  ${order.seller}</p>
                                </div>
                                <span class="badge bg-gradient-to-r from-red-500 to-pink-500 text-white">${order.sla}+ hours</span>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            document.getElementById('modalTitle').textContent = 'Delayed Orders';
            document.getElementById('orderActionModal').classList.remove('hidden');
        }

        function clearSellerFilters() {
            document.getElementById('sellerDateFilter').value = '';
            document.getElementById('skuFilter').value = '';
            document.getElementById('sizeFilter').value = '';
            document.getElementById('partnerFilter').value = '';
            document.getElementById('showDelayedBtn').classList.remove('active');
            renderSellerDashboard();
        }

        function confirmOrder(orderId) {
            const order = mockData.find(o => o.id === orderId);
            if (!order) return;
            
            const oldStatus = order.status;
            order.status = 'Processing';
            
            // Add notification for admin
            addNotification(
                'order_accepted',
                'Order Accepted',
                `Order ${orderId} has been accepted by ${order.seller}`,
                orderId,
                order.seller
            );
            
            showToast('Order Confirmed', `Order ${orderId} has been confirmed and moved to processing.`);
            
            if (currentRole === 'seller') {
                renderSellerDashboard();
            } else {
                renderAdminDashboard();
            }
        }

        function updateOrderStatus(orderId) {
            const order = mockData.find(o => o.id === orderId);
            if (!order) return;
            
            const currentIndex = statusFlow.indexOf(order.status);
            if (currentIndex < statusFlow.length - 1) {
                const oldStatus = order.status;
                order.status = statusFlow[currentIndex + 1];
                
                showToast('Status Updated', `Order ${orderId} status updated to ${order.status}`);
                
                if (currentRole === 'seller') {
                    renderSellerDashboard();
                } else {
                    renderAdminDashboard();
                    updateAdminStats();
                }
            }
        }

        function showRejectionModal(orderId) {
            currentOrderForAction = orderId;
            document.getElementById('rejectionModal').classList.remove('hidden');
        }

        function confirmReject() {
            const reason = document.getElementById('rejectionReason').value.trim();
            if (!reason) {
                alert('Please provide a rejection reason');
                return;
            }
            
            const order = mockData.find(o => o.id === currentOrderForAction);
            if (order) {
                const oldStatus = order.status;
                order.status = 'Rejected';
                order.notes = order.notes ? `${order.notes} [REJECTED: ${reason}]` : `[REJECTED: ${reason}]`;
                
                // Add notification for admin
                addNotification(
                    'order_rejected',
                    'Order Rejected',
                    `Order ${currentOrderForAction} has been rejected by ${order.seller} - Reason: ${reason}`,
                    currentOrderForAction,
                    order.seller
                );
                
                showToast('Order Rejected', `Order ${currentOrderForAction} rejected. Reason: ${reason}`);
            }
            
            document.getElementById('rejectionModal').classList.add('hidden');
            document.getElementById('rejectionReason').value = '';
            
            if (currentRole === 'seller') {
                renderSellerDashboard();
            }
        }

        function mergeOrders() {
            if (selectedOrders.length < 2) {
                alert('Please select at least 2 orders to merge');
                return;
            }
            
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <p class="text-gray-700 mb-4">You are about to merge ${selectedOrders.length} orders. This action cannot be undone.</p>
                <p class="font-medium text-gray-800 mb-2">Selected Orders:</p>
                <div class="space-y-2 mb-6">
                    ${selectedOrders.map(id => `<p class="text-sm text-gray-600"> ${id}</p>`).join('')}
                </div>
                <div class="p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl">
                    <p class="text-sm text-gray-700"><i class="fas fa-info-circle text-blue-500 mr-2"></i>Merged orders will be combined into a single shipment with combined items.</p>
                </div>
            `;
            
            document.getElementById('modalTitle').textContent = 'Merge Orders';
            document.getElementById('confirmModalAction').textContent = 'Confirm Merge';
            
            const modal = document.getElementById('orderActionModal');
            modal.classList.remove('hidden');
            
            // Update confirm button action
            const confirmBtn = document.getElementById('confirmModalAction');
            const oldHandler = confirmBtn.onclick;
            confirmBtn.onclick = () => {
                showToast('Orders Merged', `${selectedOrders.length} orders merged successfully`);
                modal.classList.add('hidden');
                selectedOrders = [];
                document.getElementById('selectAllOrders').checked = false;
                renderSellerDashboard();
                confirmBtn.onclick = oldHandler;
            };
        }

        function splitOrder() {
            if (selectedOrders.length !== 1) {
                alert('Please select exactly 1 order to split');
                return;
            }
            
            const order = mockData.find(o => o.id === selectedOrders[0]);
            if (!order) return;
            
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <p class="text-gray-700 mb-4">Split Order ${order.id} with ${order.items.length} item(s):</p>
                <div class="space-y-3 mb-6">
                    ${order.items.map((item, index) => `
                        <div class="flex items-center justify-between p-3 border border-gray-200 rounded-xl">
                            <div class="flex items-center">
                                <input type="checkbox" id="item-${index}" class="split-item-checkbox mr-3 rounded border-gray-300 text-blue-600 focus:ring-blue-500" checked>
                                <div>
                                    <p class="font-medium text-gray-800">${item.sku} (${item.size})</p>
                                    <p class="text-sm text-gray-600">Color: ${item.color}  Qty: ${item.quantity}</p>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
                <div class="p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl">
                    <p class="text-sm text-gray-700"><i class="fas fa-info-circle text-green-500 mr-2"></i>Selected items will be moved to a new order.</p>
                </div>
            `;
            
            document.getElementById('modalTitle').textContent = 'Split Order';
            document.getElementById('confirmModalAction').textContent = 'Confirm Split';
            
            const modal = document.getElementById('orderActionModal');
            modal.classList.remove('hidden');
            
            const confirmBtn = document.getElementById('confirmModalAction');
            const oldHandler = confirmBtn.onclick;
            confirmBtn.onclick = () => {
                showToast('Order Split', `Order ${order.id} split successfully`);
                modal.classList.add('hidden');
                selectedOrders = [];
                document.getElementById('selectAllOrders').checked = false;
                renderSellerDashboard();
                confirmBtn.onclick = oldHandler;
            };
        }

        function showDocumentsModal() {
            if (selectedOrders.length === 0) {
                alert('Please select at least 1 order to generate documents');
                return;
            }
            
            // Reset selections
            selectedDocumentTypes.packingSlip = false;
            selectedDocumentTypes.invoice = false;
            document.getElementById('packingSlipCheck').classList.add('hidden');
            document.getElementById('invoiceCheck').classList.add('hidden');
            
            document.getElementById('documentsModal').classList.remove('hidden');
        }

        function generateDocuments() {
            const { packingSlip, invoice } = selectedDocumentTypes;
            
            if (!packingSlip && !invoice) {
                alert('Please select at least one document type');
                return;
            }
            
            const documents = [];
            if (packingSlip) documents.push('Packing Slip');
            if (invoice) documents.push('Invoice');
            
            showToast('Documents Generated', `${documents.join(' and ')} generated for ${selectedOrders.length} order(s)`);
            document.getElementById('documentsModal').classList.add('hidden');
            
            // Simulate download
            setTimeout(() => {
                alert(`Documents downloaded: ${documents.join(', ')}`);
            }, 500);
        }

        function runQCCheck() {
            const qcOrders = mockData.filter(order => 
                order.status === 'Processing' || order.status === 'QC Done'
            );
            
            const modalBody = document.getElementById('modalBody');
            modalBody.innerHTML = `
                <div class="text-center py-8">
                    <div class="w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-check-double text-blue-600 text-2xl"></i>
                    </div>
                    <h4 class="text-xl font-bold text-gray-800 mb-2">Running QC Check</h4>
                    <p class="text-gray-600 mb-6">Checking ${qcOrders.length} orders for anomalies...</p>
                    
                    <div class="w-full bg-gray-200 rounded-full h-2 mb-8">
                        <div class="bg-gradient-to-r from-blue-500 to-green-500 h-2 rounded-full animate-pulse" style="width: 70%"></div>
                    </div>
                    
                    <div id="qcResults" class="hidden">
                        <div class="p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl">
                            <h5 class="font-bold text-gray-800 mb-2">QC Results:</h5>
                            <ul class="space-y-1 text-sm text-gray-700">
                                <li><i class="fas fa-check text-green-500 mr-2"></i> ${qcOrders.length - 2} orders passed QC</li>
                                <li><i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i> 1 order has measurement discrepancy</li>
                                <li><i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i> 1 order has packaging issue</li>
                            </ul>
                            <p class="text-sm text-gray-600 mt-3">Anomaly detection completed successfully.</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('modalTitle').textContent = 'Quality Check';
            document.getElementById('confirmModalAction').classList.add('hidden');
            document.getElementById('cancelModalAction').textContent = 'Close';
            
            const modal = document.getElementById('orderActionModal');
            modal.classList.remove('hidden');
            
            // Simulate QC process
            setTimeout(() => {
                document.getElementById('qcResults').classList.remove('hidden');
            }, 2000);
            
            // Update cancel button to close modal
            const cancelBtn = document.getElementById('cancelModalAction');
            cancelBtn.onclick = () => {
                modal.classList.add('hidden');
                // Reset button
                document.getElementById('confirmModalAction').classList.remove('hidden');
                document.getElementById('cancelModalAction').textContent = 'Cancel';
            };
        }

        function openOverrideModal() {
            if (selectedOrders.length !== 1) {
                alert('Please select exactly 1 order to override status');
                return;
            }
            
            const order = mockData.find(o => o.id === selectedOrders[0]);
            if (!order) return;
            
            document.getElementById('overrideOrderId').value = order.id;
            document.getElementById('newStatus').value = order.status;
            document.getElementById('overrideReason').value = '';
            
            document.getElementById('overrideModal').classList.remove('hidden');
        }

        function confirmOverride() {
            const orderId = document.getElementById('overrideOrderId').value;
            const newStatus = document.getElementById('newStatus').value;
            const reason = document.getElementById('overrideReason').value.trim();
            
            if (!reason) {
                alert('Please provide a reason for the override');
                return;
            }
            
            const order = mockData.find(o => o.id === orderId);
            if (order) {
                const oldStatus = order.status;
                order.status = newStatus;
                order.notes = order.notes ? `${order.notes} [OVERRIDE: ${oldStatus}  ${newStatus} - ${reason}]` : `[OVERRIDE: ${oldStatus}  ${newStatus} - ${reason}]`;
                
                showToast('Status Overridden', `Order ${orderId} status changed from ${oldStatus} to ${newStatus}`);
                
                // Log the change
                console.log(`Status override: ${orderId} from ${oldStatus} to ${newStatus}. Reason: ${reason}`);
            }
            
            document.getElementById('overrideModal').classList.add('hidden');
            
            if (currentRole === 'admin') {
                renderAdminDashboard();
                updateAdminStats();
            } else {
                renderSellerDashboard();
            }
        }

        function updateSellerStats() {
            const total = mockData.length;
            const pending = mockData.filter(o => o.status === 'Accepted').length;
            const toShip = mockData.filter(o => ['Processing', 'QC Done', 'Packed'].includes(o.status)).length;
            const delayed = mockData.filter(o => o.isDelayed).length;
            
            sellerTotalOrders.textContent = total;
            sellerPendingOrders.textContent = pending;
            sellerToShipOrders.textContent = toShip;
            sellerDelayedOrders.textContent = delayed;
        }

        function updateAdminStats() {
            const total = mockData.length;
            const slaBreached = mockData.filter(o => o.sla !== 'normal').length;
            const highRisk = mockData.filter(o => o.risk === 'high').length;
            const slaOk = mockData.filter(o => o.sla === 'normal').length;
            
            adminTotalOrders.textContent = total;
            adminSlaBreached.textContent = slaBreached;
            adminHighRisk.textContent = highRisk;
            adminSlaCompliance.textContent = `${Math.round((slaOk / total) * 100)}%`;
        }

        function generateInsights() {
            // Order volume by category
            categoryInsight.innerHTML = `
                <div class="flex items-center justify-between mb-2">
                    <span class="text-sm text-gray-700">Men's Fashion</span>
                    <span class="text-sm font-bold text-gray-800">45%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                    <div class="bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full" style="width: 45%"></div>
                </div>
                
                <div class="flex items-center justify-between mb-2">
                    <span class="text-sm text-gray-700">Women's Fashion</span>
                    <span class="text-sm font-bold text-gray-800">35%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                    <div class="bg-gradient-to-r from-pink-500 to-rose-500 h-2 rounded-full" style="width: 35%"></div>
                </div>
                
                <div class="flex items-center justify-between mb-2">
                    <span class="text-sm text-gray-700">Accessories</span>
                    <span class="text-sm font-bold text-gray-800">15%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2 mb-3">
                    <div class="bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full" style="width: 15%"></div>
                </div>
                
                <div class="flex items-center justify-between">
                    <span class="text-sm text-gray-700">Footwear</span>
                    <span class="text-sm font-bold text-gray-800">5%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-gradient-to-r from-yellow-500 to-amber-500 h-2 rounded-full" style="width: 5%"></div>
                </div>
            `;
            
            // Seller performance
            sellerInsight.innerHTML = `
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mr-3">
                            <span class="text-white text-xs font-bold">A</span>
                        </div>
                        <span class="text-sm font-medium text-gray-800">Seller A</span>
                    </div>
                    <span class="text-sm font-bold text-green-600">+12%</span>
                </div>
                
                <div class="flex items-center justify-between mb-3">
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mr-3">
                            <span class="text-white text-xs font-bold">B</span>
                        </div>
                        <span class="text-sm font-medium text-gray-800">Seller B</span>
                    </div>
                    <span class="text-sm font-bold text-red-600">-3%</span>
                </div>
                
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <div class="w-8 h-8 bg-gradient-to-br from-purple-500 to-pink-600 rounded-full flex items-center justify-center mr-3">
                            <span class="text-white text-xs font-bold">C</span>
                        </div>
                        <span class="text-sm font-medium text-gray-800">Seller C</span>
                    </div>
                    <span class="text-sm font-bold text-green-600">+8%</span>
                </div>
                
                <div class="mt-4 pt-4 border-t border-gray-200">
                    <p class="text-xs text-gray-600">Avg fulfillment time: <span class="font-bold">2.3 days</span></p>
                </div>
            `;
            
            // Fulfillment bottlenecks
            bottleneckInsight.innerHTML = `
                <div class="mb-3">
                    <div class="flex justify-between mb-1">
                        <span class="text-sm text-gray-700">QC Process</span>
                        <span class="text-sm font-bold text-gray-800">12h avg.</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-gradient-to-r from-red-500 to-orange-500 h-2 rounded-full" style="width: 70%"></div>
                    </div>
                </div>
                
                <div class="mb-3">
                    <div class="flex justify-between mb-1">
                        <span class="text-sm text-gray-700">Packaging</span>
                        <span class="text-sm font-bold text-gray-800">8h avg.</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-gradient-to-r from-yellow-500 to-amber-500 h-2 rounded-full" style="width: 50%"></div>
                    </div>
                </div>
                
                <div>
                    <div class="flex justify-between mb-1">
                        <span class="text-sm text-gray-700">Partner Handoff</span>
                        <span class="text-sm font-bold text-gray-800">6h avg.</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div class="bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full" style="width: 40%"></div>
                    </div>
                </div>
                
                <div class="mt-4 pt-4 border-t border-gray-200">
                    <p class="text-xs text-gray-600">Biggest bottleneck: <span class="font-bold text-red-600">QC Process</span> (40% of delays)</p>
                </div>
            `;
        }

        function showToast(title, message) {
            document.getElementById('toastTitle').textContent = title;
            document.getElementById('toastMessage').textContent = message;
            
            const toast = document.getElementById('toast');
            toast.classList.remove('hidden');
            
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 3000);
        }

        function handleRefresh() {
            // Add rotation animation to refresh button
            const refreshBtn = document.getElementById('refreshBtn');
            refreshBtn.style.transform = 'rotate(360deg)';
            refreshBtn.style.transition = 'transform 0.5s ease';
            
            setTimeout(() => {
                refreshBtn.style.transform = 'rotate(0deg)';
            }, 500);
            
            // Simulate data refresh
            showToast('Dashboard Refreshed', 'All data has been refreshed successfully');
            
            if (currentRole === 'seller') {
                renderSellerDashboard();
            } else {
                renderAdminDashboard();
            }
        }

        // Request notification permission
        if ("Notification" in window) {
            if (Notification.permission === "default") {
                Notification.requestPermission();
            }
        }

        // Initialize the dashboard when the page loads
        document.addEventListener('DOMContentLoaded', initDashboard);
    </script>
</body>
</html>
[file content end]